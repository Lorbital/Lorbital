<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="theme-color" content="#000000">
    <title>æ¢æµ‹å™¨ | Quantum Orbital Explorer</title>
    <link rel="stylesheet" href="css/shared.css">
    <style>
        body { margin: 0; overflow: hidden; background: #000; }
        #instructions {
            position: absolute; top: 150px; left: 20px;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(15px);
            padding: 20px; border-radius: 15px; border: 1px solid var(--glass-border);
            z-index: 100; font-size: 13px; color: white;
        }
        #orbital-tag { position: absolute; bottom: 40px; right: 40px; text-align: right; z-index: 100; }
        #orbital-name { font-size: 80px; font-weight: 100; margin: 0; text-shadow: 0 0 20px var(--accent); }
        #video-container { 
            position: absolute; bottom: 20px; left: 20px; 
            width: 180px; height: 135px; border-radius: 12px; 
            overflow: hidden; border: 2px solid var(--accent); transform: scaleX(-1);
        }
        /* åŠ è½½é®ç½©ï¼šå…¨å±ã€z-index é«˜äº orbital-selector(250)/category-selector(300) */
        #loading-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            z-index: 400;
            color: var(--accent);
        }
        #loading-overlay.hidden { display: none; }
        #loading-text { font-size: 16px; letter-spacing: 3px; margin-bottom: 8px; }
        #loading-orbital-name { font-size: 28px; font-weight: 200; margin-bottom: 24px; }
        #loading-progress-wrap {
            width: 280px;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            overflow: hidden;
            margin-bottom: 8px;
        }
        #loading-progress-bar {
            height: 100%;
            background: var(--accent);
            border-radius: 3px;
            width: 0;
            transition: width 0.2s ease;
        }
        #loading-progress-bar.indeterminate {
            width: 40%;
            animation: loadingIndeterminate 1.5s ease-in-out infinite;
        }
        @keyframes loadingIndeterminate {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(350%); }
            100% { transform: translateX(-100%); }
        }
        #loading-percent { font-size: 13px; color: rgba(255, 255, 255, 0.7); }
        #loading-percent.hidden { display: none; }
        #loading-error {
            margin-top: 12px;
            font-size: 14px;
            color: rgba(255, 200, 200, 0.95);
            max-width: 360px;
            text-align: center;
        }
        #loading-error.hidden { display: none; }
        #loading-actions { margin-top: 20px; display: flex; gap: 12px; }
        #loading-actions.hidden { display: none; }
        #loading-retry, #loading-back {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--glass-border);
            border-radius: 8px;
            padding: 10px 20px;
            color: white;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s ease;
        }
        #loading-retry:hover, #loading-back:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--accent);
        }
        
        /* åˆ†ç±»é€‰æ‹©ç•Œé¢ */
        #category-selector {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            padding-top: 140px; /* ä»‹ç»æ–‡å­—ä¸ SPDFG æ•´ä½“ä¸‹ç§» */
            background: rgba(0, 0, 0, 0.95);
            z-index: 300;
            backdrop-filter: blur(20px);
        }
        #category-selector.hidden {
            display: none;
        }
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            max-width: 1400px;
            width: 90%;
            margin-top: 28px;
            justify-content: center;
        }
        @media (min-width: 1200px) {
            .category-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
        .category-card {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        .category-card:hover {
            transform: scale(1.1);
            border-color: var(--accent);
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.5);
            background: rgba(0, 255, 255, 0.1);
        }
        .category-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .category-card:hover::before {
            opacity: 1;
        }
        .category-letter {
            font-size: 120px;
            font-weight: 300;
            color: var(--accent);
            text-shadow: 0 0 30px var(--accent);
            z-index: 1;
        }
        .category-name {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 10px;
            z-index: 1;
        }
        .intro-panel {
            width: 90%;
            max-width: 700px;
            max-height: 22vh;
            overflow-y: auto;
            background: var(--glass);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 20px 28px;
            flex-shrink: 0;
        }
        .intro-panel h2 {
            font-size: 20px;
            font-weight: 300;
            color: var(--accent);
            margin: 0 0 12px 0;
            letter-spacing: 2px;
        }
        .intro-panel p {
            font-size: 14px;
            line-height: 1.65;
            color: rgba(255, 255, 255, 0.85);
            margin: 0;
        }
        
        /* è½¨é“åˆ—è¡¨ç•Œé¢ */
        #orbital-selector {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.95);
            z-index: 250;
            backdrop-filter: blur(20px);
        }
        #orbital-selector.hidden {
            display: none;
        }
        .orbital-list {
            display: grid;
            gap: 20px;
            max-width: 1400px;
            width: 95%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 20px;
            justify-content: center;
            margin-top: 40px; /* å‘ä¸‹ç§»åŠ¨ï¼Œé¿å…æŒ¡ä½SPDFGå­—æ¯ */
        }
        /* Sè½¨é“å¸ƒå±€ï¼š2è¡Œï¼Œç¬¬ä¸€è¡Œ3ä¸ªï¼Œç¬¬äºŒè¡Œ4ä¸ª */
        .orbital-list-s {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: auto auto;
        }
        /* Pè½¨é“å¸ƒå±€ï¼š5è¡Œ3åˆ— */
        .orbital-list-p {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(5, auto);
        }
        /* Dè½¨é“å¸ƒå±€ï¼š4è¡Œ5åˆ— */
        .orbital-list-d {
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(4, auto);
        }
        /* Fè½¨é“å¸ƒå±€ï¼š2è¡Œ7åˆ— */
        .orbital-list-f {
            grid-template-columns: repeat(7, 1fr);
            grid-template-rows: repeat(2, auto);
        }
        /* Gè½¨é“å¸ƒå±€ï¼š3è¡Œ3åˆ— */
        .orbital-list-g {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, auto);
        }
        .orbital-item {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 25px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100px;
        }
        .orbital-item:hover:not(.orbital-item-placeholder) {
            transform: translateY(-5px);
            border-color: var(--accent);
            box-shadow: 0 5px 30px rgba(0, 255, 255, 0.4);
            background: rgba(0, 255, 255, 0.1);
        }
        .orbital-item-placeholder {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .orbital-item-placeholder:hover {
            transform: none;
            border-color: var(--glass-border);
            box-shadow: none;
            background: rgba(255, 255, 255, 0.05);
        }
        .orbital-item-name {
            font-size: 24px;
            font-weight: 300;
            color: var(--accent);
            text-shadow: 0 0 15px var(--accent);
            margin-bottom: 8px;
        }
        .knowledge-button {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        .knowledge-button:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--accent);
            transform: scale(1.1);
        }
        
        /* è½¨é“åˆ—è¡¨å®¹å™¨ */
        .orbital-list-container {
            display: flex;
            width: 95%;
            max-width: 1400px;
            gap: 20px;
            justify-content: center;
            align-items: flex-start;
        }
        
        /* çŸ¥è¯†å¡ç‰‡é¢æ¿ */
        .knowledge-card {
            position: fixed;
            top: 70px;
            right: 10px;
            width: 350px;
            max-height: 80vh;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            border-radius: 20px;
            padding: 25px;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            animation: slideIn 0.3s ease-out;
            z-index: 1001; /* é«˜äºå®éªŒæ§åˆ¶å°çš„ z-index: 1000 */
        }
        .knowledge-card.hidden {
            display: none;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        .knowledge-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            width: 32px;
            height: 32px;
            color: white;
            font-size: 24px;
            line-height: 1;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .knowledge-close:hover {
            background: rgba(255, 0, 0, 0.3);
            border-color: #ff4444;
            transform: rotate(90deg);
        }
        .knowledge-content {
            color: white;
        }
        .knowledge-title {
            font-size: 28px;
            font-weight: 300;
            color: var(--accent);
            text-shadow: 0 0 15px var(--accent);
            margin-bottom: 25px;
            padding-right: 40px;
        }
        .knowledge-section {
            margin-bottom: 25px;
        }
        .knowledge-section-title {
            font-size: 18px;
            font-weight: 500;
            color: var(--accent);
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .knowledge-item {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        .knowledge-item-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            margin-bottom: 4px;
        }
        .knowledge-item-value {
            color: white;
            font-size: 15px;
        }
        .knowledge-item-value strong {
            color: var(--accent);
        }
        .back-button {
            position: absolute;
            top: 90px;
            left: 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--glass-border);
            border-radius: 8px;
            padding: 12px 24px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 13px;
            backdrop-filter: blur(10px);
            z-index: 150;
        }
        .viewer-back-button {
            position: absolute;
            top: 90px;
            left: 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--glass-border);
            border-radius: 8px;
            padding: 12px 24px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 13px;
            backdrop-filter: blur(10px);
            z-index: 150;
        }
        .viewer-back-button:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--accent);
            transform: translateX(-5px);
        }
        /* å®éªŒæ§åˆ¶å°ï¼ˆå¯æŠ˜å ä¸‹æ‹‰é¢æ¿ï¼‰ */
        .experiment-console {
            position: fixed;
            top: 70px;
            right: 10px;
            z-index: 1000;
            min-width: 220px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
        }
        .experiment-console.hidden { display: none; }
        .experiment-console-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 14px;
            cursor: pointer;
            color: var(--accent);
            font-size: 14px;
            user-select: none;
        }
        .experiment-console-header:hover { background: rgba(255, 255, 255, 0.05); }
        .experiment-console-header .arrow { font-size: 10px; transition: transform 0.2s; }
        .experiment-console:not(.is-open) .experiment-console-body { display: none; }
        .experiment-console.is-open .experiment-console-header .arrow { transform: rotate(180deg); }
        .experiment-console-body {
            padding: 12px 14px 16px;
            border-top: 1px solid var(--glass-border);
        }
        .experiment-console-body label {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.9);
            cursor: pointer;
        }
        .experiment-console-body label:last-of-type { margin-bottom: 12px; }
        .experiment-console-body input[type="checkbox"] { accent-color: var(--accent); cursor: pointer; }
        .experiment-console-body input[type="range"] {
            width: 100%;
            margin: 8px 0;
            accent-color: var(--accent);
        }
        .experiment-console-body select {
            width: 100%;
            padding: 6px 8px;
            margin-top: 4px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 6px;
            color: white;
            font-size: 13px;
            cursor: pointer;
        }
        .experiment-console-body select option { background: #111; color: white; }
        /* Viewer é¡µé¢ä¿¡æ¯æŒ‰é’® */
        .viewer-knowledge-button {
            position: fixed;
            top: 440px;
            right: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            color: white;
            backdrop-filter: blur(10px);
            z-index: 1000;
        }
        .viewer-knowledge-button:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--accent);
            transform: scale(1.1);
        }
        .viewer-knowledge-button.hidden {
            display: none;
        }
        .back-button:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--accent);
            transform: translateX(-5px);
        }
        .category-title {
            position: absolute;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 60px;
            font-weight: 200;
            color: var(--accent);
            text-shadow: 0 0 20px var(--accent);
            letter-spacing: 10px;
        }

        /* æ‰‹åŠ¿æ•™ç¨‹è¦†ç›–å±‚ */
        .gesture-tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: tutorialFadeIn 0.3s ease-out;
        }
        .gesture-tutorial-overlay.hidden {
            display: none;
        }
        @keyframes tutorialFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .gesture-tutorial-content {
            position: relative;
            width: 90%;
            max-width: 800px;
            background: var(--glass-heavy);
            backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            border-radius: 24px;
            padding: 70px 40px 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .gesture-tutorial-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            color: white;
            font-size: 28px;
            line-height: 1;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .gesture-tutorial-close:hover {
            background: rgba(255, 0, 0, 0.3);
            border-color: #ff4444;
            transform: rotate(90deg);
        }

        .gesture-tutorial-steps {
            position: relative;
            min-height: 400px;
            margin-bottom: 20px;
        }

        .gesture-tutorial-step {
            position: absolute;
            width: 100%;
            opacity: 0;
            transform: translateX(30px);
            pointer-events: none;
            transition: all 0.4s ease;
        }
        .gesture-tutorial-step.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: auto;
        }

        .gesture-tutorial-animation {
            width: 100%;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }

        /* Emoji æ¼”ç¤º */
        .emoji-demo {
            font-size: 120px;
            line-height: 1;
            animation: emojiPulse 2s ease-in-out infinite;
        }
        @keyframes emojiPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .emoji-move {
            animation: emojiMove 3s ease-in-out infinite;
        }
        @keyframes emojiMove {
            0%, 100% { transform: translateX(-50px) scale(1); }
            25% { transform: translateX(0) translateY(-30px) scale(1.1); }
            50% { transform: translateX(50px) scale(1); }
            75% { transform: translateX(0) translateY(30px) scale(1.1); }
        }

        /* æ­¥éª¤ 2 çš„å¸ƒå±€ï¼šæ‰‹åŠ¿å’Œæ¨¡å‹å¹¶æ’ */
        .gesture-tutorial-step[data-step="2"] .gesture-tutorial-animation {
            display: flex;
            flex-direction: row;
            justify-content: center; /* æ”¹ä¸ºå±…ä¸­ï¼Œä¸æ­¥éª¤3ä¸€è‡´ */
            align-items: center;
            gap: 40px;
            padding-left: 80px; /* å‘å³åç§»80pxï¼ˆ50px + 30pxï¼‰ */
        }
        .gesture-tutorial-step[data-step="2"] .model-demo-rotate {
            position: relative;
        }

        /* æ¨¡å‹æ¼”ç¤º */
        .model-demo {
            width: 120px;
            height: 120px;
            border: 2px solid var(--accent);
            border-radius: 50%;
            background: rgba(0, 255, 255, 0.1);
            box-shadow: 0 0 30px var(--accent-glow);
            /* å›ºå®šåœ†å¿ƒï¼šç¡®ä¿ç¼©æ”¾æ—¶åœ†å¿ƒä½ç½®ä¸å˜ */
            transform-origin: center center;
            /* ä½¿ç”¨margin autoç¡®ä¿å±…ä¸­ï¼Œé¿å…å®šä½é—®é¢˜ */
            margin: 0 auto;
        }

        .model-demo-rotate {
            /* è·Ÿéšå·¦è¾¹emojiæ‰‹åŠ¿å›¾æ¡ˆçš„åŠ¨ç”»ç§»åŠ¨ */
            animation: modelRotateFollowEmoji 3s ease-in-out infinite;
        }
        @keyframes modelRotateFollowEmoji {
            /* è·ŸéšemojiMoveåŠ¨ç”»è·¯å¾„ï¼š
               0%: å·¦è¾¹(-50px) â†’ 25%: ä¸­é—´å‘ä¸Š(0, -30px) â†’ 50%: å³è¾¹(50px) â†’ 75%: ä¸­é—´å‘ä¸‹(0, 30px) â†’ 100%: å·¦è¾¹
               ä¿®æ­£ï¼šemojiåœ¨å·¦è¾¹æ—¶ï¼Œåœ†åœˆåº”è¯¥å¾€å·¦è¾¹è½¬ï¼ˆrotateYä¸ºè´Ÿï¼‰
                     emojiåœ¨å³è¾¹æ—¶ï¼Œåœ†åœˆåº”è¯¥å¾€å³è¾¹è½¬ï¼ˆrotateYä¸ºæ­£ï¼‰
               å‘ä¸Šç§»åŠ¨ï¼ˆdeltaY < 0ï¼‰â†’ ç»•Xè½´é€†æ—¶é’ˆæ—‹è½¬ï¼ˆrotateXä¸ºè´Ÿï¼‰
               å‘ä¸‹ç§»åŠ¨ï¼ˆdeltaY > 0ï¼‰â†’ ç»•Xè½´é¡ºæ—¶é’ˆæ—‹è½¬ï¼ˆrotateXä¸ºæ­£ï¼‰
            */
            0%, 100% { 
                /* å·¦è¾¹ä½ç½®ï¼šåœ†åœˆå¾€å·¦è¾¹è½¬ */
                transform: rotateY(-45deg) rotateX(0deg); 
            }
            25% { 
                /* ä¸­é—´å‘ä¸Šï¼šä»å·¦è¾¹ç§»åŠ¨åˆ°ä¸­é—´ï¼ˆ+50pxï¼‰ï¼ŒåŒæ—¶å‘ä¸Šï¼ˆ-30pxï¼‰ */
                transform: rotateY(0deg) rotateX(-20deg); 
            }
            50% { 
                /* å³è¾¹ä½ç½®ï¼šä»ä¸­é—´ç§»åŠ¨åˆ°å³è¾¹ï¼ˆ+50pxï¼‰ï¼Œåœ†åœˆå¾€å³è¾¹è½¬ */
                transform: rotateY(45deg) rotateX(0deg); 
            }
            75% { 
                /* ä¸­é—´å‘ä¸‹ï¼šä»å³è¾¹ç§»åŠ¨åˆ°ä¸­é—´ï¼ˆ-50pxï¼‰ï¼ŒåŒæ—¶å‘ä¸‹ï¼ˆ+30pxï¼‰ */
                transform: rotateY(0deg) rotateX(20deg); 
            }
        }

        .model-demo-scale {
            /* ä¸handsMoveStep3åŠ¨ç”»åŒæ­¥ï¼š4ç§’ï¼Œease-in-outï¼Œinfinite */
            animation: modelScale 4s ease-in-out infinite;
        }
        @keyframes modelScale {
            /* ä¸handsMoveStep3åŒæ­¥ï¼š
               0%, 100%: gap=60pxï¼ˆemojiè·ç¦»è¿‘ï¼‰â†’ scaleåº”è¯¥å°
               50%: gap=100pxï¼ˆemojiè·ç¦»è¿œï¼‰â†’ scaleåº”è¯¥å¤§
            */
            0%, 100% { transform: scale(0.7); }
            50% { transform: scale(1.2); }
        }

        /* åŒæ‰‹ Emoji æ¼”ç¤º */
        .hands-emoji-demo {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 80px;
            animation: handsMove 4s ease-in-out infinite;
        }
        @keyframes handsMove {
            0%, 100% { gap: 80px; }
            50% { gap: 140px; }
        }

        .distance-indicator {
            width: 2px;
            height: 60px;
            background: var(--accent);
            opacity: 0.6;
            animation: distancePulse 2s ease-in-out infinite;
        }
        @keyframes distancePulse {
            0%, 100% { height: 60px; opacity: 0.6; }
            50% { height: 120px; opacity: 1; }
        }

        /* æ­¥éª¤ 3 çš„å¸ƒå±€ï¼šåŒæ‰‹å’Œæ¨¡å‹å¹¶æ’ */
        .gesture-tutorial-step[data-step="3"] .gesture-tutorial-animation {
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            align-items: center;
            gap: 40px;
        }
        .gesture-tutorial-step[data-step="3"] .hands-emoji-demo {
            position: relative;
            gap: 60px;
            animation: handsMoveStep3 4s ease-in-out infinite;
        }
        .gesture-tutorial-step[data-step="3"] .hands-emoji-demo .emoji-demo {
            font-size: 80px;
        }
        @keyframes handsMoveStep3 {
            0%, 100% { gap: 60px; }
            50% { gap: 100px; }
        }

        .gesture-tutorial-title {
            font-size: 32px;
            font-weight: 300;
            color: var(--accent);
            text-align: center;
            margin: 0 0 20px 0;
            text-shadow: 0 0 15px var(--accent-glow);
            letter-spacing: 3px;
        }

        .gesture-tutorial-description {
            font-size: 16px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            margin: 0;
        }

        .gesture-tutorial-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            gap: 20px;
        }

        .gesture-tutorial-nav-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--glass-border);
            border-radius: 8px;
            padding: 12px 24px;
            color: white;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
        }
        .gesture-tutorial-nav-btn:hover:not(:disabled) {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        .gesture-tutorial-nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .gesture-tutorial-dots {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex: 1;
        }

        .gesture-tutorial-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .gesture-tutorial-dot.active {
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent-glow);
            transform: scale(1.3);
        }

        .gesture-tutorial-skip {
            position: absolute;
            top: 20px;
            left: 20px;
            background: transparent;
            border: 1px solid var(--glass-border);
            border-radius: 6px;
            padding: 8px 16px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .gesture-tutorial-skip:hover {
            color: white;
            border-color: var(--accent);
            background: rgba(0, 255, 255, 0.1);
        }

        @media (max-width: 768px) {
            .gesture-tutorial-content {
                width: 95%;
                padding: 40px 30px 12px;
            }
            .gesture-tutorial-animation {
                height: 250px;
            }
            .emoji-demo {
                font-size: 80px;
            }
            .hands-emoji-demo {
                gap: 60px;
            }
            .gesture-tutorial-title {
                font-size: 24px;
            }
            .gesture-tutorial-description {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <nav>
        <a href="index.html">é¦–é¡µ</a>
        <a href="story.html">æˆ‘ä»¬çš„æ•…äº‹</a>
        <a href="knowledge.html">çŸ¥è¯†åº“</a>
        <a href="explorer.html" class="active">æ¢æµ‹å™¨</a>
    </nav>

    <!-- åˆ†ç±»é€‰æ‹©ç•Œé¢ -->
    <div id="category-selector">
        <div class="intro-panel">
            <h2>é‡å­è½¨é“æ¢æµ‹å™¨</h2>
            <p>æœ¬é¡µæä¾›æ°¢åŸå­è½¨é“çš„ 3D ç‚¹äº‘å¯è§†åŒ–ã€‚æ°¢åŸå­æ˜¯æœ€ç®€å•çš„åŸå­ç³»ç»Ÿï¼Œå…¶è–›å®šè°”æ–¹ç¨‹å¯ä»¥ç²¾ç¡®æ±‚è§£ï¼Œä»è€Œå¾—åˆ°ç”µå­åœ¨ä¸åŒé‡å­æ€ä¸‹çš„è½¨é“æ³¢å‡½æ•°ã€‚è¿™äº›æ¨¡å‹é€šè¿‡æ±‚è§£æ°¢åŸå­çš„è–›å®šè°”æ–¹ç¨‹è®¡ç®—å¾—å‡ºï¼Œä½¿ç”¨ Python é€šè¿‡è’™ç‰¹å¡æ´›æ‹’ç»é‡‡æ ·æ³•ç”Ÿæˆï¼Œæ ¹æ®æ³¢å‡½æ•°çš„æ¦‚ç‡å¯†åº¦åˆ†å¸ƒ |Ïˆ|Â² è¿›è¡Œé‡‡æ ·ï¼Œä½¿å¾—ç‚¹äº‘çš„å¯†åº¦å‡†ç¡®åæ˜ ç”µå­åœ¨åŸå­æ ¸å‘¨å›´ä¸åŒä½ç½®å‡ºç°çš„æ¦‚ç‡ã€‚é€‰æ‹©ä¸‹æ–¹ Sã€Pã€Dã€Fã€G ä»»ä¸€ç±»å‹å³å¯æµè§ˆè¯¥æ—è½¨é“ã€‚</p>
        </div>
        <div class="category-grid">
            <div class="category-card" data-type="s">
                <div class="category-letter">s</div>
                <div class="category-name">çƒå¯¹ç§°è½¨é“</div>
            </div>
            <div class="category-card" data-type="p">
                <div class="category-letter">p</div>
                <div class="category-name">å“‘é“ƒå½¢è½¨é“</div>
            </div>
            <div class="category-card" data-type="d">
                <div class="category-letter">d</div>
                <div class="category-name">ç“£çŠ¶åˆ†å¸ƒè½¨é“</div>
            </div>
            <div class="category-card" data-type="f">
                <div class="category-letter">f</div>
                <div class="category-name">é«˜é˜¶å¯¹ç§°è½¨é“</div>
            </div>
            <div class="category-card" data-type="g">
                <div class="category-letter">g</div>
                <div class="category-name">è¶…é«˜é˜¶è½¨é“</div>
            </div>
        </div>
    </div>

    <!-- è½¨é“åˆ—è¡¨ç•Œé¢ -->
    <div id="orbital-selector" class="hidden">
        <button class="back-button">â† è¿”å›</button>
        <div class="category-title" id="current-category-title">S</div>
        <div class="orbital-list-container">
            <div class="orbital-list" id="orbital-list"></div>
        </div>
    </div>

    <!-- çŸ¥è¯†å¡ç‰‡é¢æ¿ï¼ˆç§»åˆ°vieweré¡µé¢åŒºåŸŸï¼‰ -->
    <div id="knowledge-card" class="knowledge-card hidden">
        <button class="knowledge-close" id="knowledge-close">Ã—</button>
        <div class="knowledge-content" id="knowledge-content"></div>
    </div>

    <!-- åŠ è½½é®ç½©ï¼šè¿›åº¦æ¡ã€é”™è¯¯ã€é‡è¯•/è¿”å› -->
    <div id="loading-overlay" class="hidden">
        <div id="loading-text">é‡å­æ€åŒæ­¥ä¸­...</div>
        <div id="loading-orbital-name"></div>
        <div id="loading-progress-wrap">
            <div id="loading-progress-bar" class="indeterminate"></div>
        </div>
        <div id="loading-percent" class="hidden"></div>
        <div id="loading-error" class="hidden"></div>
        <div id="loading-actions" class="hidden">
            <button id="loading-retry">é‡è¯•</button>
            <button id="loading-back">è¿”å›åˆ—è¡¨</button>
        </div>
    </div>
    <div id="instructions" class="hidden">
        <b style="color:var(--accent)">æ‰‹åŠ¿æ§åˆ¶æ–¹æ³•</b><br><br>
        <b>å•æ‰‹æ§åˆ¶æ—‹è½¬</b>ï¼š<br>å•æ‰‹æç´§é£ŸæŒ‡å’Œæ‹‡æŒ‡ï¼ˆOKçš„æ‰‹åŠ¿ï¼‰ï¼Œ<br>é€šè¿‡æ‰‹çš„ç§»åŠ¨æ§åˆ¶æ¨¡å‹æ—‹è½¬<br><br>
        <b>åŒæ‰‹æ§åˆ¶ç¼©æ”¾</b>ï¼š<br>åŒæ‰‹åˆ†åˆ«æç´§é£ŸæŒ‡å’Œæ‹‡æŒ‡ï¼Œ<br>é€šè¿‡åŒæ‰‹ä¹‹é—´çš„è·ç¦»æ§åˆ¶æ¨¡å‹ç¼©æ”¾<br><br>
        æ³¨æ„ç”»é¢ä¸­å…¶ä»–çš„æ‰‹ä¼šå½±å“è¯†åˆ«<br>
        ä¹Ÿå¯ä½¿ç”¨é¼ æ ‡æˆ–è§¦æ§æ¿æ§åˆ¶
    </div>

    <div id="orbital-tag" class="hidden">
        <div style="color:var(--accent); letter-spacing: 5px;">CURRENT ORBITAL</div>
        <h1 id="orbital-name">1s</h1>
    </div>

    <button id="viewer-back-button" class="viewer-back-button hidden">â† è¿”å›</button>
    <div id="experiment-console" class="experiment-console hidden is-open">
        <div id="experiment-console-header" class="experiment-console-header">å®éªŒæ§åˆ¶å° <span class="arrow">â–¼</span></div>
        <div id="experiment-console-body" class="experiment-console-body">
            <label><span>è‡ªåŠ¨æ—‹è½¬</span> <input type="checkbox" id="experiment-console-auto-rotate"></label>
            <label>æ—‹è½¬é€Ÿåº¦</label>
            <input type="range" id="experiment-console-rotation-speed" min="0.001" max="0.02" step="0.0005">
            <label><span>æ˜¾ç¤ºåæ ‡è½´</span> <input type="checkbox" id="experiment-console-show-axes"></label>
            <label>ç²’å­å¤§å°</label>
            <input type="range" id="experiment-console-particle-size" min="0.005" max="0.05" step="0.001">
            <label>å½“å‰ block è½¨é“</label>
            <select id="experiment-console-orbital-select"></select>
        </div>
    </div>
    <button id="viewer-knowledge-button" class="viewer-knowledge-button hidden" title="æŸ¥çœ‹è½¨é“ä¿¡æ¯">â„¹</button>
    <div id="video-container" class="hidden"><video id="input_video" playsinline></video></div>
    <div id="container"></div>

    <!-- æ‰‹åŠ¿æ•™ç¨‹è¦†ç›–å±‚ -->
    <div id="gesture-tutorial-overlay" class="gesture-tutorial-overlay hidden">
        <div class="gesture-tutorial-content">
            <!-- å…³é—­æŒ‰é’® -->
            <button class="gesture-tutorial-close" id="gesture-tutorial-close" title="å…³é—­">Ã—</button>
            
            <!-- æ•™ç¨‹æ­¥éª¤å®¹å™¨ -->
            <div class="gesture-tutorial-steps">
                <!-- æ­¥éª¤ 1: æåˆæ‰‹åŠ¿ä»‹ç» -->
                <div class="gesture-tutorial-step" data-step="1">
                    <div class="gesture-tutorial-animation">
                        <div class="emoji-demo emoji-ok">ğŸ‘Œ</div>
                    </div>
                    <h2 class="gesture-tutorial-title">æåˆæ‰‹åŠ¿</h2>
                    <p class="gesture-tutorial-description">å°†æ‹‡æŒ‡å’Œé£ŸæŒ‡æåˆï¼Œå½¢æˆ OK æ‰‹åŠ¿ï¼ˆğŸ‘Œï¼‰ã€‚è¿™æ˜¯æ‰€æœ‰æ‰‹åŠ¿æ“ä½œçš„åŸºç¡€ã€‚<br>åœæ­¢æåˆå³å¯é€€å‡ºæ‰‹åŠ¿æ§åˆ¶æ¨¡å¼ã€‚</p>
                </div>

                <!-- æ­¥éª¤ 2: å•æ‰‹æ“ä½œ -->
                <div class="gesture-tutorial-step" data-step="2">
                    <div class="gesture-tutorial-animation">
                        <div class="emoji-demo emoji-ok emoji-move">ğŸ‘Œ</div>
                        <div class="model-demo model-demo-rotate"></div>
                    </div>
                    <h2 class="gesture-tutorial-title">å•æ‰‹å¹³ç§»æ§åˆ¶æ—‹è½¬</h2>
                    <p class="gesture-tutorial-description">å•æ‰‹æåˆåï¼Œç§»åŠ¨æ‰‹æŒæ¥æ§åˆ¶æ¨¡å‹çš„æ—‹è½¬ã€‚æ¨¡å‹ä¼šè·Ÿéšä½ çš„æ‰‹åŠ¿æ–¹å‘æ—‹è½¬ã€‚<br>åœæ­¢æåˆå³å¯é€€å‡ºæ‰‹åŠ¿æ§åˆ¶æ¨¡å¼ã€‚</p>
                </div>

                <!-- æ­¥éª¤ 3: åŒæ‰‹æ“ä½œ -->
                <div class="gesture-tutorial-step" data-step="3">
                    <div class="gesture-tutorial-animation">
                        <div class="hands-emoji-demo">
                            <div class="emoji-demo emoji-ok">ğŸ‘Œ</div>
                            <div class="distance-indicator"></div>
                            <div class="emoji-demo emoji-ok">ğŸ‘Œ</div>
                        </div>
                        <div class="model-demo model-demo-scale"></div>
                    </div>
                    <h2 class="gesture-tutorial-title">åŒæ‰‹è·ç¦»æ§åˆ¶ç¼©æ”¾</h2>
                    <p class="gesture-tutorial-description">åŒæ‰‹åˆ†åˆ«æåˆï¼Œé€šè¿‡æ”¹å˜åŒæ‰‹ä¹‹é—´çš„è·ç¦»æ¥æ§åˆ¶æ¨¡å‹çš„ç¼©æ”¾ã€‚åŒæ‰‹é è¿‘æ—¶ç¼©å°ï¼ŒåŒæ‰‹è¿œç¦»æ—¶æ”¾å¤§ã€‚<br>åœæ­¢æåˆå³å¯é€€å‡ºæ‰‹åŠ¿æ§åˆ¶æ¨¡å¼ã€‚</p>
                </div>
            </div>

            <!-- å¯¼èˆªæŒ‰é’® -->
            <div class="gesture-tutorial-navigation">
                <button class="gesture-tutorial-nav-btn" id="gesture-tutorial-prev" disabled>ä¸Šä¸€æ­¥</button>
                <div class="gesture-tutorial-dots">
                    <span class="gesture-tutorial-dot active" data-step="1"></span>
                    <span class="gesture-tutorial-dot" data-step="2"></span>
                    <span class="gesture-tutorial-dot" data-step="3"></span>
                </div>
                <button class="gesture-tutorial-nav-btn" id="gesture-tutorial-next">ä¸‹ä¸€æ­¥</button>
            </div>

            <!-- è·³è¿‡æŒ‰é’® -->
            <button class="gesture-tutorial-skip" id="gesture-tutorial-skip">è·³è¿‡æ•™ç¨‹</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

    <script type="importmap">
        { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js", "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/" } }
    </script>
    <script type="module" src="src/explorer.js"></script>
</body>
</html>